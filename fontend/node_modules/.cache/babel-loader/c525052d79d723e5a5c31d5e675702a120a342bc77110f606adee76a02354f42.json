{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport { Link, useLocation, useNavigate } from \"react-router-dom\";\nimport { empty } from \"uuidv4\";\nfunction UseFatch(url) {\n  _s();\n  let {\n    method,\n    headers,\n    body\n  } = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  const [data, setData] = useState();\n  const [errorStatus, setErrorStatus] = useState();\n\n  //const [loading, setLoading] = useState(false);\n\n  const navigate = useNavigate();\n  const location = useLocation();\n  function request() {\n    fetch(url, {\n      method: method,\n      headers: headers,\n      body: body\n    }).then(response => {\n      if (response.status === 400) {\n        navigate(\"/login\", {\n          state: {\n            previousUrl: location.pathname\n          }\n        });\n      }\n      if (!response.ok) {\n        throw response.status;\n      }\n      return response.json();\n    }).then(data => {\n      setData(data);\n    }).catch(e => {\n      setErrorStatus(e);\n    });\n  }\n  function appendData(newData) {\n    fetch(url, {\n      method: \"POST\",\n      headers: headers,\n      body: JSON.stringify(newData)\n    }).then(response => {\n      if (response.status === 404) {}\n    }).then(d => {}).catch(e => {\n      console.log(e);\n    });\n  }\n  return {\n    request,\n    appendData,\n    data,\n    errorStatus\n  };\n}\n_s(UseFatch, \"tZKHJ1AZ1dBPliIRb0FmnNaibC4=\", false, function () {\n  return [useNavigate, useLocation];\n});\n_c = UseFatch;\nexport default UseFatch;\nvar _c;\n$RefreshReg$(_c, \"UseFatch\");","map":{"version":3,"names":["useEffect","useState","Link","useLocation","useNavigate","empty","UseFatch","url","_s","method","headers","body","arguments","length","undefined","data","setData","errorStatus","setErrorStatus","navigate","location","request","fetch","then","response","status","state","previousUrl","pathname","ok","json","catch","e","appendData","newData","JSON","stringify","d","console","log","_c","$RefreshReg$"],"sources":["/media/mirajul/Backup/react-project/caleb-curry-coures/fontend/src/Hooks/UseFatch.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport { Link, useLocation, useNavigate } from \"react-router-dom\";\nimport { empty } from \"uuidv4\";\n\nfunction UseFatch(url, { method, headers, body } = {}) {\n\tconst [data, setData] = useState();\n\tconst [errorStatus, setErrorStatus] = useState();\n\n\t//const [loading, setLoading] = useState(false);\n\n\tconst navigate = useNavigate();\n\tconst location = useLocation();\n\n\tfunction request() {\n\t\tfetch(url, {\n\t\t\tmethod: method,\n\t\t\theaders: headers,\n\t\t\tbody: body,\n\t\t})\n\t\t\t.then((response) => {\n\t\t\t\tif (response.status === 400) {\n\t\t\t\t\tnavigate(\"/login\", {\n\t\t\t\t\t\tstate: { previousUrl: location.pathname },\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tif (!response.ok) {\n\t\t\t\t\tthrow response.status;\n\t\t\t\t}\n\t\t\t\treturn response.json();\n\t\t\t})\n\t\t\t.then((data) => {\n\t\t\t\tsetData(data);\n\t\t\t})\n\t\t\t.catch((e) => {\n\t\t\t\tsetErrorStatus(e);\n\t\t\t});\n\t}\n\n\tfunction appendData(newData) {\n\t\tfetch(url, {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: headers,\n\t\t\tbody: JSON.stringify(newData),\n\t\t})\n\t\t\t.then((response) => {\n\t\t\t\tif (response.status === 404) {\n\t\t\t\t}\n\t\t\t})\n\t\t\t.then((d) => {})\n\t\t\t.catch((e) => {\n\t\t\t\tconsole.log(e);\n\t\t\t});\n\t}\n\n\treturn { request, appendData, data, errorStatus };\n}\n\nexport default UseFatch;\n"],"mappings":";AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,SAASC,IAAI,EAAEC,WAAW,EAAEC,WAAW,QAAQ,kBAAkB;AACjE,SAASC,KAAK,QAAQ,QAAQ;AAE9B,SAASC,QAAQA,CAACC,GAAG,EAAkC;EAAAC,EAAA;EAAA,IAAhC;IAAEC,MAAM;IAAEC,OAAO;IAAEC;EAAK,CAAC,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,CAAC,CAAC;EACpD,MAAM,CAACG,IAAI,EAAEC,OAAO,CAAC,GAAGf,QAAQ,EAAE;EAClC,MAAM,CAACgB,WAAW,EAAEC,cAAc,CAAC,GAAGjB,QAAQ,EAAE;;EAEhD;;EAEA,MAAMkB,QAAQ,GAAGf,WAAW,EAAE;EAC9B,MAAMgB,QAAQ,GAAGjB,WAAW,EAAE;EAE9B,SAASkB,OAAOA,CAAA,EAAG;IAClBC,KAAK,CAACf,GAAG,EAAE;MACVE,MAAM,EAAEA,MAAM;MACdC,OAAO,EAAEA,OAAO;MAChBC,IAAI,EAAEA;IACP,CAAC,CAAC,CACAY,IAAI,CAAEC,QAAQ,IAAK;MACnB,IAAIA,QAAQ,CAACC,MAAM,KAAK,GAAG,EAAE;QAC5BN,QAAQ,CAAC,QAAQ,EAAE;UAClBO,KAAK,EAAE;YAAEC,WAAW,EAAEP,QAAQ,CAACQ;UAAS;QACzC,CAAC,CAAC;MACH;MACA,IAAI,CAACJ,QAAQ,CAACK,EAAE,EAAE;QACjB,MAAML,QAAQ,CAACC,MAAM;MACtB;MACA,OAAOD,QAAQ,CAACM,IAAI,EAAE;IACvB,CAAC,CAAC,CACDP,IAAI,CAAER,IAAI,IAAK;MACfC,OAAO,CAACD,IAAI,CAAC;IACd,CAAC,CAAC,CACDgB,KAAK,CAAEC,CAAC,IAAK;MACbd,cAAc,CAACc,CAAC,CAAC;IAClB,CAAC,CAAC;EACJ;EAEA,SAASC,UAAUA,CAACC,OAAO,EAAE;IAC5BZ,KAAK,CAACf,GAAG,EAAE;MACVE,MAAM,EAAE,MAAM;MACdC,OAAO,EAAEA,OAAO;MAChBC,IAAI,EAAEwB,IAAI,CAACC,SAAS,CAACF,OAAO;IAC7B,CAAC,CAAC,CACAX,IAAI,CAAEC,QAAQ,IAAK;MACnB,IAAIA,QAAQ,CAACC,MAAM,KAAK,GAAG,EAAE,CAC7B;IACD,CAAC,CAAC,CACDF,IAAI,CAAEc,CAAC,IAAK,CAAC,CAAC,CAAC,CACfN,KAAK,CAAEC,CAAC,IAAK;MACbM,OAAO,CAACC,GAAG,CAACP,CAAC,CAAC;IACf,CAAC,CAAC;EACJ;EAEA,OAAO;IAAEX,OAAO;IAAEY,UAAU;IAAElB,IAAI;IAAEE;EAAY,CAAC;AAClD;AAACT,EAAA,CAnDQF,QAAQ;EAAA,QAMCF,WAAW,EACXD,WAAW;AAAA;AAAAqC,EAAA,GAPpBlC,QAAQ;AAqDjB,eAAeA,QAAQ;AAAC,IAAAkC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}