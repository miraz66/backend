{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport { Link, useLocation, useNavigate } from \"react-router-dom\";\nimport { log } from \"util\";\nimport { empty } from \"uuidv4\";\nfunction UseFatch(url, setShow) {\n  _s();\n  let {\n    method,\n    headers,\n    body\n  } = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  const [data, setData] = useState();\n  const [errorStatus, setErrorStatus] = useState();\n\n  //const [loading, setLoading] = useState(false);\n\n  const navigate = useNavigate();\n  const location = useLocation();\n  function request() {\n    fetch(url, {\n      method: method,\n      headers: headers,\n      body: body\n    }).then(response => {\n      if (response.status === 401) {\n        navigate(\"/login\", {\n          state: {\n            previousUrl: location.pathname\n          }\n        });\n      }\n      if (!response.ok) {\n        throw response.status;\n      }\n      return response.json();\n    }).then(data => {\n      setData(data);\n    }).catch(e => {\n      setErrorStatus(e);\n    });\n  }\n  function appendData(newData) {\n    fetch(url, {\n      method: \"POST\",\n      headers: headers,\n      body: JSON.stringify(newData)\n    }).then(response => {\n      if (response.status === 401) {\n        navigate(\"/login\", {\n          state: {\n            previousUrl: location.pathname\n          }\n        });\n      }\n      if (response.ok) {\n        throw response.status;\n      }\n      return response.json();\n    }).then(d => {\n      const subbmited = Object.values(d)[0];\n      console.log(\"in the then\", subbmited);\n      console.log(data);\n      const newState = {\n        ...data\n      };\n      Object.values(newState)[0].push(subbmited);\n      newData(newState);\n      props.setShow(true);\n    }).catch(e => {\n      console.log(\"Error :\", e);\n      setErrorStatus(e);\n    });\n  }\n  return {\n    request,\n    appendData,\n    data,\n    errorStatus\n  };\n}\n_s(UseFatch, \"tZKHJ1AZ1dBPliIRb0FmnNaibC4=\", false, function () {\n  return [useNavigate, useLocation];\n});\n_c = UseFatch;\nexport default UseFatch;\nvar _c;\n$RefreshReg$(_c, \"UseFatch\");","map":{"version":3,"names":["useEffect","useState","Link","useLocation","useNavigate","log","empty","UseFatch","url","setShow","_s","method","headers","body","arguments","length","undefined","data","setData","errorStatus","setErrorStatus","navigate","location","request","fetch","then","response","status","state","previousUrl","pathname","ok","json","catch","e","appendData","newData","JSON","stringify","d","subbmited","Object","values","console","newState","push","props","_c","$RefreshReg$"],"sources":["/media/mirajul/Backup/react-project/caleb-curry-coures/fontend/src/Hooks/UseFatch.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport { Link, useLocation, useNavigate } from \"react-router-dom\";\nimport { log } from \"util\";\nimport { empty } from \"uuidv4\";\n\nfunction UseFatch(url, setShow, { method, headers, body } = {}) {\n\tconst [data, setData] = useState();\n\tconst [errorStatus, setErrorStatus] = useState();\n\n\t//const [loading, setLoading] = useState(false);\n\n\tconst navigate = useNavigate();\n\tconst location = useLocation();\n\n\tfunction request() {\n\t\tfetch(url, {\n\t\t\tmethod: method,\n\t\t\theaders: headers,\n\t\t\tbody: body,\n\t\t})\n\t\t\t.then((response) => {\n\t\t\t\tif (response.status === 401) {\n\t\t\t\t\tnavigate(\"/login\", {\n\t\t\t\t\t\tstate: { previousUrl: location.pathname },\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tif (!response.ok) {\n\t\t\t\t\tthrow response.status;\n\t\t\t\t}\n\t\t\t\treturn response.json();\n\t\t\t})\n\t\t\t.then((data) => {\n\t\t\t\tsetData(data);\n\t\t\t})\n\t\t\t.catch((e) => {\n\t\t\t\tsetErrorStatus(e);\n\t\t\t});\n\t}\n\n\tfunction appendData(newData) {\n\t\tfetch(url, {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: headers,\n\t\t\tbody: JSON.stringify(newData),\n\t\t})\n\t\t\t.then((response) => {\n\t\t\t\tif (response.status === 401) {\n\t\t\t\t\tnavigate(\"/login\", {\n\t\t\t\t\t\tstate: { previousUrl: location.pathname },\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tif (response.ok) {\n\t\t\t\t\tthrow response.status;\n\t\t\t\t}\n\n\t\t\t\treturn response.json();\n\t\t\t})\n\t\t\t.then((d) => {\n\t\t\t\tconst subbmited = Object.values(d)[0];\n\t\t\t\tconsole.log(\"in the then\", subbmited);\n\t\t\t\tconsole.log(data);\n\n\t\t\t\tconst newState = { ...data };\n\t\t\t\tObject.values(newState)[0].push(subbmited);\n\n\t\t\t\tnewData(newState);\n\t\t\t\tprops.setShow(true);\n\t\t\t})\n\t\t\t.catch((e) => {\n\t\t\t\tconsole.log(\"Error :\", e);\n\t\t\t\tsetErrorStatus(e);\n\t\t\t});\n\t}\n\n\treturn { request, appendData, data, errorStatus };\n}\n\nexport default UseFatch;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}